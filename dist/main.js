import initMenu from"./features/general/menu.js";import"./styles/style.scss";import setupBarba from"./utils/setupBarba";initMenu();let currentAnimationModule=null;function cleanupCurrentModule(){currentAnimationModule&&currentAnimationModule.cleanup&&currentAnimationModule.cleanup()}function getBaseUrl(){const e=document.querySelector('script[src*="main.js"]'),n=e?.src||"";return n.substring(0,n.lastIndexOf("/")+1)}function loadPageModule(e){const n=getBaseUrl();import(`${n}pages/${e}.js`).then((t=>{currentAnimationModule=t.default||{},console.log(`${n}pages/${e}.js`),"function"==typeof currentAnimationModule.init?currentAnimationModule.init():console.warn(`Module for page ${e} does not have an init function.`)})).catch((n=>{console.error(`Failed to load module for page: ${e}`,n),currentAnimationModule={}}))}const initialPageName=document.querySelector('[data-barba="container"]').dataset.barbaNamespace;loadPageModule(initialPageName),setupBarba.hooks.beforeEnter((({next:e})=>{cleanupCurrentModule()})),setupBarba.hooks.after((({next:e})=>{loadPageModule(e.namespace)}));